{% extends "base.html" %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">Documents</h1>

<div class="bg-white p-4 rounded shadow">
    <table class="w-full text-left border-collapse">
        <thead>
            <tr class="border-b">
                <th class="p-2">Name</th>
                <th class="p-2">Published</th>
                <th class="p-2">Updated</th>
            </tr>
        </thead>
        <tbody id="doc-body"></tbody>
    </table>
</div>

<script>
function loadDocs() {
    fetch("/api/documents/")
        .then(res => res.json())
        .then(data => {
            const tbody = document.getElementById("doc-body");
            tbody.innerHTML = "";

            data.forEach(doc => {
                tbody.innerHTML += `
                    <tr class="border-b">
                        <td class="p-2">${doc.name}</td>
                        <td class="p-2">${doc.is_published ? "Yes" : "No"}</td>
                        <td class="p-2">${doc.updated_at}</td>
                    </tr>
                `;
            });
        });
}

loadDocs();
</script>

{% endblock %}
